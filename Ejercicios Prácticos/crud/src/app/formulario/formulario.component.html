<div class="container">
<div class="row">
    <h2>Formulario de Registro</h2>
    <hr>
    <div class="col-6">
        <form autocomplete="off" 
            [formGroup]="miFormulario"
            (ngSubmit)="create()">
            <div class="mb-3 col">
                <label class="col-sm-4 col-form-label">
                    Nombre
                </label>
                <div class="col-sm-8">
                <input type="text"
                        class="form-control"
                        formControlName="username">
                <span class="form-text text-danger"
                        *ngIf="validarCampo('username')">
                    Debe contener 3 caracteres o más
                </span>
                </div>
            </div>
            <div class="mb-3 col">
                <label class="col-sm-4 col-form-label">
                    Contraseña
                </label>
                <div class="col-sm-8">
                <input type="password"
                        class="form-control"
                        formControlName="password">
                    <span class="form-text text-danger"
                        *ngIf="validarCampo('password')">
                    Debe contener 4 caracteres o más
                    </span>
                </div>
            </div>
            <div class="mb-3 col">
                <label class="col-sm-4 col-form-label">
                    Confirmar Contraseña
                </label>
                <div class="col-sm-8">
                <input type="password"
                        class="form-control"
                        formControlName="confirmPassword"> 
                    <span class="form-text text-danger"
                        *ngIf="validPassword">
                    Las contraseñas no coinciden
                    </span>                
                </div>
            </div>
            <div class="mb-3 col">
                <label class="col-sm-4 col-form-label">
                    Email
                </label>
                <div class="col-sm-8">
                <input type="email"
                        class="form-control"
                        formControlName="email">
                <span class="form-text text-danger"
                        *ngIf="validarCampo('email')">
                    Debes ingresar un email válido
                </span>
                </div>
            </div>
            <div class="form-check col-9">
            <input class="form-check-input" 
                    type="checkbox" 
                    value="" 
                    id="flexCheckDefault"
                    formControlName="suscript">
            <label class="form-check-label" 
                    for="flexCheckDefault">
                    Enviarme ofertas promocionales
            </label>
            </div>
        <div class="mb-3 col">
            <select class="form-select col-sm-4" 
                    aria-label="Default select example"
                    formControlName="country">
                <option class="col-8"
                        selected>
                        País
                </option>
                <option class="col-8"
                        value="1"
                        *ngFor="let country of countries"
                        [value]="country">
                        {{country}}
                </option>
                </select>
        </div>
        <div class="mb-3 col">
            <label class="col-sm-4 col-form-label">
                    Ciudad
            </label>
            <div class="col-sm-8">
            <input type="text"
                    class="form-control"
                    formControlName="city">
                <span class="form-text text-danger"
                        *ngIf="validarCampo('city')">
                        Debes ingresar una ciudad
                </span>
            </div>
        </div>
        <button type="submit" 
                class="btn btn-primary">
                {{!!user.id ? "Editar" : "Crear"}}
        </button>

        </form>
    </div>
    <div class="col-6">
        <app-tabla [data]="data"
                    (edit)="changeUser($event)">
        </app-tabla> 
    </div>       
    </div>
</div>